{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\smsun\\\\Desktop\\\\react_practice\\\\news_view\\\\src\\\\components\\\\NewsList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport NewsItem from './NewsItem';\nimport axios from 'axios';\nconst NewsListBlock = styled.div`\n    box-sizing : border-box;\n    padding-bottom : 3rem;\n    width:768px;\n    margin : 0 auto;\n    margin-top : 2rem;\n    @media screen and (max-width:768px){\n        width:100%;\n        padding-left:1rem;\n        padding-right:1rem;\n    }\n`;\n\nconst NewsList = ({\n  category\n}) => {\n  const [articles, setArticles] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    //function start\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        const query = category === 'all' ? '' : `&category=${category}`;\n        const response = await axios.get(`http://newsapi.org/v2/top-headlines?country=kr${query}&apiKey=fd5ac7f03f9a4a679f21aa2932a9ffb0`);\n        setArticles(response.data.articles);\n      } catch (e) {\n        console.log(e);\n      }\n\n      setLoading(false);\n    }; //function end\n\n\n    fetchData();\n  }, [category]); // if [] is blank, it is ComponentDidMount. else ComponentDidUpdate\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(NewsListBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }\n    }, \"\\uC815\\uBCF4\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uC911...\");\n  }\n\n  if (!articles) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(NewsListBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, articles.map(article => /*#__PURE__*/React.createElement(NewsItem, {\n    key: article.url,\n    article: article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default NewsList;","map":{"version":3,"sources":["C:/Users/smsun/Desktop/react_practice/news_view/src/components/NewsList.js"],"names":["React","useState","useEffect","styled","NewsItem","axios","NewsListBlock","div","NewsList","category","articles","setArticles","loading","setLoading","fetchData","query","response","get","data","e","console","log","map","article","url"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAGH,MAAM,CAACI,GAAI;;;;;;;;;;;CAAjC;;AAcA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAC7B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACV;AACA,UAAMY,SAAS,GAAG,YAAW;AACzBD,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,UAAI;AACA,cAAME,KAAK,GAAGN,QAAQ,KAAK,KAAb,GAAqB,EAArB,GAA2B,aAAYA,QAAS,EAA9D;AACA,cAAMO,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAN,CAClB,iDAAgDF,KAAM,0CADpC,CAAvB;AAGAJ,QAAAA,WAAW,CAACK,QAAQ,CAACE,IAAT,CAAcR,QAAf,CAAX;AACH,OAND,CAME,OAAMS,CAAN,EAAQ;AACNC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;;AACDN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAZD,CAFU,CAcR;;;AACFC,IAAAA,SAAS;AACZ,GAhBQ,EAgBN,CAACL,QAAD,CAhBM,CAAT,CAJ6B,CAoBb;;AAEhB,MAAIG,OAAJ,EAAa;AACT,wBAAO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAAP;AACH;;AAED,MAAI,CAACF,QAAL,EAAc;AACV,WAAO,IAAP;AACH;;AAED,sBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,QAAQ,CAACY,GAAT,CACGC,OAAO,iBACH,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,OAAO,CAACC,GAAvB;AAA4B,IAAA,OAAO,EAAED,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFP,CADL,CADJ;AASH,CAvCD;;AAyCA,eAAef,QAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport NewsItem from './NewsItem';\r\nimport axios from 'axios';\r\n\r\nconst NewsListBlock = styled.div`\r\n    box-sizing : border-box;\r\n    padding-bottom : 3rem;\r\n    width:768px;\r\n    margin : 0 auto;\r\n    margin-top : 2rem;\r\n    @media screen and (max-width:768px){\r\n        width:100%;\r\n        padding-left:1rem;\r\n        padding-right:1rem;\r\n    }\r\n`;\r\n\r\n\r\nconst NewsList = ({category}) => {\r\n    const [articles, setArticles] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        //function start\r\n        const fetchData = async() => {\r\n            setLoading(true);\r\n            try {\r\n                const query = category === 'all' ? '' : `&category=${category}`\r\n                const response = await axios.get(\r\n                    `http://newsapi.org/v2/top-headlines?country=kr${query}&apiKey=fd5ac7f03f9a4a679f21aa2932a9ffb0`\r\n                );\r\n                setArticles(response.data.articles)\r\n            } catch(e){\r\n                console.log(e);\r\n            }\r\n            setLoading(false);\r\n        } //function end\r\n        fetchData();\r\n    }, [category]); // if [] is blank, it is ComponentDidMount. else ComponentDidUpdate\r\n\r\n    if (loading) {\r\n        return <NewsListBlock>정보를 가져오는 중...</NewsListBlock>;\r\n    }\r\n\r\n    if (!articles){\r\n        return null;\r\n    }\r\n\r\n    return(\r\n        <NewsListBlock>\r\n            {articles.map(\r\n                article => (\r\n                    <NewsItem key={article.url} article={article}/>\r\n                )\r\n            )}\r\n        </NewsListBlock>\r\n    )\r\n}\r\n\r\nexport default NewsList;"]},"metadata":{},"sourceType":"module"}